{% extends 'base.html.twig' %}
{% form_theme formSearch 'bootstrap_4_layout.html.twig' %}
{% block body %}
<style>
    .example-wrapper { 
        margin: 1em auto; 
        max-width: 1300px;
         width: 100%; 
         font: 18px/1.5 sans-serif; 
    }
</style>

<div class="example-wrapper">
    <nav class="navbar navbar-expand-lg navbar-light bg-light shadow p-2 m-5 bg-body rounded  text-center">
        <div class="container-fluid">
            <a class="navbar-brand fw-bolder mx-5" href="{{ path('app_vehicule') }}">Vehicule</a>
            <div class="collapse navbar-collapse mx-5" id="navbarColor03">
                    <ul class="navbar-nav me-auto ">
                        <li class="nav-item mx-5  fw-bolder">
                            <a class="nav-link" href="{{ path('app_vehicule_add') }}">Ajouter</a>
                        </li>
                        <li>
                            {{ form_start(formSearch) }}
                                {{ form_row(formSearch.champs, {'attr': {'placeholder': "Tapez ...."}}) }}
                                <button type="submit" class="btn btn-primary mt-3">
                                    <i class="fas fa-search"></i> 
                                </button>
                            {{ form_end(formSearch) }}

                        </li>
                        <li>
                            {% if idMember %}
                                <button type="submit" class="btn btn-primary mt-3">
                                    <a  href="{{ path('app_profil', {'id':idMember}) }}">
                                        <i class="fas fa-user"></i>
                                    </a>
                                </button>
                                <button type="submit" class="btn btn-primary mt-3">
                                    <a  href="{{ path('app_member_logout') }}">
                                        <i class="fas fa-sign-out"></i>
                                    </a>
                                </button>
                            {% else %}
                                <button type="submit" class="btn btn-primary mt-3">
                                    <a  href="{{ path('app_member_login') }}">
                                        <i class="fas fa-user"></i>
                                    </a>
                                </button>
                            {% endif %}

                        </li>
                    </ul>

            </div>
        </div>
    </nav>
    <table class="table table-striped">
        <thead>
            <tr>
                <th scope="col">Vehicule</th>
                <th scope="col">Titre</th>
                <th scope="col">Marque</th>
                <th scope="col">Modele</th>
                <th scope="col">Description</th>
                <th scope="col">Photo</th>
                <th scope="col">Prix</th>
                <th scope="col">Date d'enregistrement</th>
                <th scope="col">Disponible</th>
                <th scope="col"></th>
            </tr>
        </thead>
        <tbody>
            {% if vehicules%}
                {% for vehicule in vehicules %}
                        <tr>
                            <td scope="col">{{vehicule.id}}</td>
                            <td scope="col">{{vehicule.titre}}</td>
                            <td scope="col">{{vehicule.marque}}</td>
                            <td scope="col">{{vehicule.modele}}</td>
                            <td scope="col">{{vehicule.description}}</td>
                            <td scope="col">
                                <img src="{{ asset('vehicules_directory/' ~ vehicule.photo)}}" style="width: 70px; height: auto; border: 2px solid #ccc;">
                            </td>
                            <td scope="col">{{vehicule.getPrixJournalier}} $</td>
                            <td scope="col">{{vehicule.getDateEnregistrement | date('d/m/y') }}</td>
                            <td scope="col">{{vehicule.available }}</td>
                            {% if statutUser ==0%}
                                <td scope="col">
                                    <button type="button" class="btn btn-success btn-sm">
                                        <a href="{{ path('app_commande_add',{'id':vehicule.id,'idMember':idMember})}}">
                                            r√©server
                                        </a>
                                    </button>
                                </td>
                            {% else %}
                            <td scope="col">
                                <button type="button" class="btn btn-primary btn-sm">
                                    <a href="{{ path('app_vehicule_edit',{'id':vehicule.id})}}">
                                        <i class="fas fa-pen"></i>
                                    </a>
                                </button>
                                <button type="button" class="btn btn-danger btn-sm">
                                    <a href="{{ path('app_vehicule_delete',{'id':vehicule.id})}}">
                                        <i class="fas fa-trash"></i>
                                    </a>
                                </button>
                            </td>
                            {% endif %}

                        </tr>
                   {% endfor %}
                {% endif %}
        </tbody>
    </table>
</div>
{% endblock %}
